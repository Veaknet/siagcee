/*
 * JSP generated by Resin-3.0.28 (built Mon, 18 May 2009 02:16:38 PDT)
 */

package _jsp._web_22dinf._vistas;
import javax.servlet.*;
import javax.servlet.jsp.*;
import javax.servlet.http.*;
import java.util.Collections;
import java.util.Enumeration;
import java.util.Vector;
import com.siagcee.logic.*;

public class _generadorsql__jsp extends com.caucho.jsp.JavaPage{
  private boolean _caucho_isDead;
  
  public void
  _jspService(javax.servlet.http.HttpServletRequest request,
              javax.servlet.http.HttpServletResponse response)
    throws java.io.IOException, javax.servlet.ServletException
  {
    javax.servlet.http.HttpSession session = request.getSession(true);
    com.caucho.server.webapp.Application _jsp_application = _caucho_getApplication();
    javax.servlet.ServletContext application = _jsp_application;
    com.caucho.jsp.PageContextImpl pageContext = com.caucho.jsp.QJspFactory.allocatePageContext(this, _jsp_application, request, response, null, session, 8192, true, false);
    javax.servlet.jsp.JspWriter out = pageContext.getOut();
    javax.servlet.ServletConfig config = getServletConfig();
    javax.servlet.Servlet page = this;
    response.setContentType("text/html;charset=UTF-8");
    request.setCharacterEncoding("UTF-8");
    try {
      out.write(_jsp_string0, 0, _jsp_string0.length);
      
HttpSession sesion = request.getSession();
Administrador admin = (Administrador)sesion.getAttribute("administrador");
if(admin == null){

      out.write(_jsp_string1, 0, _jsp_string1.length);
      pageContext.forward("autenticar.do");
      if (true) return;
      out.write('\n');
      
}

      out.write(_jsp_string2, 0, _jsp_string2.length);
      

boolean showForm = false;

if (request.getAttribute("resultado") != null) {
	out.println(request.getAttribute("resultado") + "<br />");
}

Vector _todasPreguntas = null;
InstanciaObjeto objetoatrabajar = null;
if(request.getAttribute("objetoatrabajar") != null){
	objetoatrabajar = (InstanciaObjeto)request.getAttribute("objetoatrabajar");
	_todasPreguntas = objetoatrabajar.getObjetoAsociado().getPreguntas();
	Collections.sort(_todasPreguntas, new OrdenadorInstanciaPreguntas(OrdenadorInstanciaPreguntas.ORDEN_PREGUNTA));
}

Vector _objetos = new Vector();
if(request.getAttribute("objetosInstanciados") != null){	
	_objetos = (Vector)request.getAttribute("objetosInstanciados");
	Collections.sort(_objetos, new OrdenadorInstanciaObjetos(OrdenadorInstanciaObjetos.CLASS));
}


      out.write(_jsp_string3, 0, _jsp_string3.length);
      

if(objetoatrabajar != null){
	Enumeration _misPreguntas = _todasPreguntas.elements();
	InstanciaPregunta preg;
	int i = 0, j = 0;
	while(_misPreguntas.hasMoreElements()){
	  preg = (InstanciaPregunta)_misPreguntas.nextElement();
	  out.println("array_preguntas["+i+"] = new Array();");
    out.println("array_preguntas["+i+"]['id'] = '"+preg.getId()+"';");
    out.println("array_preguntas["+i+"]['pregunta'] = '"+UtilidadesVarias.reemplazarCaracteres(preg.getAcronimo(), "'", "\"")+"';");
    out.println("array_preguntas["+i+"]['tipopregunta'] = '"+preg.getTipoPregunta()+"';");
    out.println("array_preguntas["+i+"]['ordenpregunta'] = '"+preg.getOrden()+"';");
    out.println("array_preguntas["+i+"]['respuestas'] = new Array();");

    Vector _resp = preg.respuestasPosibles();
		Enumeration _misRespuestas = _resp.elements();
		RespuestasPosibles resp;
		while(_misRespuestas.hasMoreElements()){
			resp = (RespuestasPosibles)_misRespuestas.nextElement();
	    out.println("array_preguntas["+i+"]['respuestas']["+j+"] = new Array();");
	    out.println("array_preguntas["+i+"]['respuestas']["+j+"]['id'] = '"+resp.getId()+"';");
	    out.println("array_preguntas["+i+"]['respuestas']["+j+"]['respuesta'] = '"+UtilidadesVarias.reemplazarCaracteres(resp.getRespuesta(), "'", "\"")+"';");
			j++;
		}
		i++;
	  j = 0;
	}
}

      out.write(_jsp_string4, 0, _jsp_string4.length);
       if(admin.getTipoUsuario().equals("superadministrador")){ 
      out.write(_jsp_string5, 0, _jsp_string5.length);
       }	
      out.write(_jsp_string6, 0, _jsp_string6.length);
       if(admin.getTipoUsuario().equals("regular")){ 
      out.write(_jsp_string7, 0, _jsp_string7.length);
       }	
      out.write(_jsp_string8, 0, _jsp_string8.length);
       if(admin.getTipoUsuario().equals("superadministrador")){ 
      out.write(_jsp_string9, 0, _jsp_string9.length);
       } 
      out.write(_jsp_string10, 0, _jsp_string10.length);
       if(admin.getTipoUsuario().equals("superadministrador")){ 
      out.write(_jsp_string11, 0, _jsp_string11.length);
       } 	
      out.write(_jsp_string12, 0, _jsp_string12.length);
       if(admin.getTipoUsuario().equals("regular")){ 
      out.write(_jsp_string13, 0, _jsp_string13.length);
       } 	
      out.write(_jsp_string14, 0, _jsp_string14.length);
      
if(!_objetos.isEmpty()){
	Enumeration _contar = _objetos.elements();
	InstanciaObjeto _inst = null;
	
      out.write(_jsp_string15, 0, _jsp_string15.length);
      
			if(objetoatrabajar == null){
				out.print(" selected='selected'");
			}
		
      out.write(_jsp_string16, 0, _jsp_string16.length);
      
			try{
				InstanciaObjeto _miIns = (InstanciaObjeto) sesion.getAttribute("generadorSql_instanciaObjeto");
				String miClase = "";
				String miClasePrint = "";
				Enumeration _misObjetos = _objetos.elements();
				InstanciaObjeto miObj;
				boolean _soloeste = false;
				if(request.getParameter("soloeste") != null){
					_soloeste = Boolean.parseBoolean((String)request.getParameter("soloeste"));
				}
				while(_misObjetos.hasMoreElements()){
					miObj = (InstanciaObjeto)_misObjetos.nextElement();
					if(_soloeste && objetoatrabajar != null && objetoatrabajar.getId() != miObj.getId()){continue;}
					//solo se hace lo siguiente para mostrarlos por grupos: censos, encuestas y relaciones
					if((miObj.getObjetoAsociado().retornaPreguntaClave() == null) && (_miIns.getAcceso()==1)){continue;}
					if((request.getParameter("exclusivo") != null) && (request.getParameter("exclusivo").contains("si")) && (miObj.getId() != objetoatrabajar.getId())){continue;}
					if(!miClase.equals(miObj.getObjetoAsociado().getClass().toString())){
						if(!miClase.equals("")){
							out.print("</optgroup>");
						}

						miClase = miObj.getObjetoAsociado().getClass().toString();

						if(miClase.contains("Censo")){
							miClasePrint = "Censos";
						}
						if(miClase.contains("Encuesta")){
							miClasePrint = "Encuestas";
						}
						if(miClase.contains("Relacion")){
							miClasePrint = "Relaciones";
						}
						
      out.write(_jsp_string17, 0, _jsp_string17.length);
       out.print(miClasePrint); 
      out.write(_jsp_string18, 0, _jsp_string18.length);
      
					}
					out.print("<option value='"+miObj.getId()+"'");
					if(objetoatrabajar != null && objetoatrabajar.getId() == miObj.getId()){
						out.print(" selected='selected'");
					}
					out.println(">"+miObj.getObjeto()+"</option>");
				}
			}catch(Exception e){e.printStackTrace();}
		
      out.write(_jsp_string19, 0, _jsp_string19.length);
      
}

if(objetoatrabajar != null){
	String _accioninvitar = "true";
	if(request.getParameter("accioninvitar") != null){
		_accioninvitar = (String)request.getParameter("accioninvitar");
	}

      out.write(_jsp_string20, 0, _jsp_string20.length);
       if(objetoatrabajar.getObjetoAsociado().retornaPreguntaComunicacionEmail() != null){out.print(objetoatrabajar.getObjetoAsociado().retornaPreguntaComunicacionEmail().getId());}else{out.print(-1);} 
      out.write(_jsp_string21, 0, _jsp_string21.length);
       out.print(_accioninvitar); 
      out.write(_jsp_string22, 0, _jsp_string22.length);
       out.print(objetoatrabajar.getId()); 
      out.write(_jsp_string23, 0, _jsp_string23.length);
      
}

      out.write(_jsp_string24, 0, _jsp_string24.length);
    } catch (java.lang.Throwable _jsp_e) {
      pageContext.handlePageException(_jsp_e);
    } finally {
      com.caucho.jsp.QJspFactory.freePageContext(pageContext);
    }
  }

  private java.util.ArrayList _caucho_depends = new java.util.ArrayList();

  public java.util.ArrayList _caucho_getDependList()
  {
    return _caucho_depends;
  }

  public void _caucho_addDepend(com.caucho.make.PersistentDependency depend)
  {
    super._caucho_addDepend(depend);
    com.caucho.jsp.JavaPage.addDepend(_caucho_depends, depend);
  }

  public boolean _caucho_isModified()
  {
    if (_caucho_isDead)
      return true;
    if (com.caucho.util.CauchoSystem.getVersionId() != -4644494061398360982L)
      return true;
    for (int i = _caucho_depends.size() - 1; i >= 0; i--) {
      com.caucho.make.Dependency depend;
      depend = (com.caucho.make.Dependency) _caucho_depends.get(i);
      if (depend.isModified())
        return true;
    }
    return false;
  }

  public long _caucho_lastModified()
  {
    return 0;
  }

  public void destroy()
  {
      _caucho_isDead = true;
      super.destroy();
  }

  public void init(com.caucho.vfs.Path appDir)
    throws javax.servlet.ServletException
  {
    com.caucho.vfs.Path resinHome = com.caucho.util.CauchoSystem.getResinHome();
    com.caucho.vfs.MergePath mergePath = new com.caucho.vfs.MergePath();
    mergePath.addMergePath(appDir);
    mergePath.addMergePath(resinHome);
    com.caucho.loader.DynamicClassLoader loader;
    loader = (com.caucho.loader.DynamicClassLoader) getClass().getClassLoader();
    String resourcePath = loader.getResourcePathSpecificFirst();
    mergePath.addClassPath(resourcePath);
    com.caucho.vfs.Depend depend;
    depend = new com.caucho.vfs.Depend(appDir.lookup("WEB-INF/vistas/generadorsql.jsp"), 2519573176810803599L, false);
    com.caucho.jsp.JavaPage.addDepend(_caucho_depends, depend);
    depend = new com.caucho.vfs.Depend(appDir.lookup("WEB-INF/vistas/admininicio.jsp"), -2698818426022610974L, false);
    com.caucho.jsp.JavaPage.addDepend(_caucho_depends, depend);
    depend = new com.caucho.vfs.Depend(appDir.lookup("WEB-INF/vistas/adminfooter.jsp"), 8445709753414532245L, false);
    com.caucho.jsp.JavaPage.addDepend(_caucho_depends, depend);
  }

  private final static char []_jsp_string22;
  private final static char []_jsp_string10;
  private final static char []_jsp_string3;
  private final static char []_jsp_string18;
  private final static char []_jsp_string6;
  private final static char []_jsp_string1;
  private final static char []_jsp_string21;
  private final static char []_jsp_string14;
  private final static char []_jsp_string9;
  private final static char []_jsp_string4;
  private final static char []_jsp_string13;
  private final static char []_jsp_string5;
  private final static char []_jsp_string16;
  private final static char []_jsp_string8;
  private final static char []_jsp_string17;
  private final static char []_jsp_string2;
  private final static char []_jsp_string19;
  private final static char []_jsp_string24;
  private final static char []_jsp_string12;
  private final static char []_jsp_string23;
  private final static char []_jsp_string15;
  private final static char []_jsp_string0;
  private final static char []_jsp_string7;
  private final static char []_jsp_string11;
  private final static char []_jsp_string20;
  static {
    _jsp_string22 = "\" id=\"accioninvitar\" name=\"accioninvitar\">\n	<input type=\"hidden\" value=\"\" id=\"email_id_invite_text\" name=\"email_id_invite_text\">\n	<div id=\"div_1\" name=\"div_1\" style=\"display:block;\">\n		<script type=\"text/javascript\">\n			var midiv = document.getElementById(\"div_1\");\n			midiv.appendChild(creaSelectParentesisAbierto(linea_actual, linea_actual));\n			midiv.appendChild(creaSelectPreguntas(linea_actual, linea_actual));\n			midiv.appendChild(creaSelectOperadores(linea_actual, linea_actual, \"novalido\"));\n			midiv.appendChild(creaSelectRespuestas(linea_actual, linea_actual, \"novalido\"));\n			midiv.appendChild(creaSelectParentesisCerrado(linea_actual, linea_actual));\n		</script>\n		<span style=\"display:inline;\" id=\"span_1\" name=\"span_1\"><img src=\"comunes/imagenes/add.png\" height=\"24\" onclick=\"creaNuevaLinea();ruedaLineasAbajo(1);\" title=\"Agrega nueva linea\" alt=\"Agrega nueva linea\"><img src=\"comunes/imagenes/delete.png\" height=\"24\" onclick=\"if(linea_actual > 1){ruedaLineasArriba(1);borraUltimaLinea();}\" title=\"Eliminar l&iacute;nea\" alt=\"Eliminar l&iacute;nea\"></span>\n		<div id=\"div_2\" name=\"div_2\" style=\"display:none;\">\n		</div>\n	</div><p />\n	<input type=\"hidden\" name=\"total_lineas\" id=\"total_lineas\" value=\"0\">\n	<input type=\"hidden\" name=\"miaccion\" id=\"miaccion\" value=\"nada\">\n	<input type=\"hidden\" name=\"objetoatrabajar\" id=\"objetoatrabajar\" value=\"".toCharArray();
    _jsp_string10 = "\n											<li class=\"childlink\"><a href=\"adminobjetos.do?tipoinstrumento=estructura&opcionbase=revisar\"><img src=\"comunes/imagenes/file-review.png\" height=\"18\" title=\"Revisar estructuras base generadas que no ya no pueden modificarse\">&nbsp;Revisar</a></li>\n										</ul>\n									</li>\n									<li class=\"headlink\">\n										<a href=\"#\" id='link_instrumentos' title=\"Cree, modifique, publique o elimine censos o encuestas\" onmouseover=\"this.focus();\">Instrumentos Base</a>\n										<ul style=\"display: none;\">\n											<li class=\"childlink\"><a href=\"adminobjetos.do?tipoinstrumento=instrumento&opcionbase=armar\"><img src=\"comunes/imagenes/file-add.png\" height=\"18\" title=\"Crear censo o encuesta\">&nbsp;Crear</a></li>\n											<li class=\"childlink\"><a href=\"adminobjetos.do?tipoinstrumento=instrumento&opcionbase=modificar\"><img src=\"comunes/imagenes/file-edit.png\" height=\"18\" title=\"Modificar censo o encuesta\">&nbsp;Modificar</a></li>\n											<li class=\"childlink\"><a href=\"adminobjetos.do?tipoinstrumento=instrumento&opcionbase=crear\"><img src=\"comunes/imagenes/file-check.png\" height=\"18\" title=\"Generar censo o encuesta previamente armado\">&nbsp;Generar</a></li>\n											<li class=\"childlink\"><a href=\"adminobjetos.do?tipoinstrumento=instrumento&opcionbase=eliminar\"><img src=\"comunes/imagenes/file-delete.png\" height=\"18\" title=\"Eliminar censo o encuesta\">&nbsp;Eliminar</a></li>\n											<li class=\"childlink\"><a href=\"adminobjetos.do?tipoinstrumento=instrumento&opcionbase=revisar\"><img src=\"comunes/imagenes/file-review.png\" height=\"18\" title=\"Revisar censo o encuesta generadas que no ya no pueden modificarse\">&nbsp;Revisar</a></li>\n										</ul>\n									</li>\n									<li class=\"headlink\">\n										<a id='link_generar_instrumentos' href=\"implementobjeto.do\" title=\"Publique censos o encuestas previamente generados\" onmouseover=\"this.focus();\">Publicar Instrumento</a>\n									</li>\n									<li class=\"headlink\">\n										<a id='link_instrumentos_generados' href=\"#\" title=\"Revise censos o encuestas ya publicados\" onmouseover=\"this.focus();\">Instrumentos Publicados</a>\n										<ul style=\"display: none;\">\n											<li class=\"childlink\"><a href=\"admininsobj.do?opcionbase=pendientes\"><img src=\"comunes/imagenes/file-pendiente.png\" height=\"18\" title=\"Mostrar s&oacute;lo censos o encuestas pendientes\">&nbsp;Pendientes</a></li>\n											<li class=\"childlink\"><a href=\"admininsobj.do?opcionbase=enejecucion\"><img src=\"comunes/imagenes/file-ejecucion.png\" height=\"18\" title=\"Mostrar s&oacute;lo censos o encuestas actualmente en ejecuci&oacute;n\">&nbsp;En Ejecuci&oacute;n</a></li>\n											<li class=\"childlink\"><a href=\"admininsobj.do?opcionbase=finalizados\"><img src=\"comunes/imagenes/file-finalizado.png\" height=\"18\" title=\"Mostrar s&oacute;lo censos o encuestas finalizados\">&nbsp;Finalizados</a></li>\n											<li class=\"childlink\"><a href=\"admininsobj.do?opcionbase=todos\"><img src=\"comunes/imagenes/file-todos.png\" height=\"18\" title=\"Mostrar censos o encuestas pendientes, actualmente en ejecuci&oacute;n y finalizados\">&nbsp;Todos</a></li>\n											<li class=\"childlink\"><a href=\"admininsobj.do?opcionbase=eliminados\"><img src=\"comunes/imagenes/delete.png\" height=\"18\" title=\"Mostrar s&oacute;lo censos o encuestas eliminados\">&nbsp;Eliminados</a></li>\n										</ul>\n									</li>\n									<li class=\"headlink\">\n										<a id='link_estudios' href=\"#\" title=\"Cree, modifique y elimine estudios asociados a un censos, encuestas o colecci&oacute;nes de datos\" onmouseover=\"this.focus();\">Estudios</a>\n										<ul style=\"display: none;\">\n											<li class=\"childlink\"><a href=\"estudios.do?opcionbase=crear\"><img src=\"comunes/imagenes/file-add.png\" height=\"18\" title=\"Crear estudio\">&nbsp;Crear</a></li>\n											<li class=\"childlink\"><a href=\"estudios.do?opcionbase=modificar\"><img src=\"comunes/imagenes/file-edit.png\" height=\"18\" title=\"Modificar estudio\">&nbsp;Modificar</a></li>\n											<li class=\"childlink\"><a href=\"estudios.do?opcionbase=eliminar\"><img src=\"comunes/imagenes/file-delete.png\" height=\"18\" title=\"Eliminar estudio\">&nbsp;Eliminar</a></li>\n											<li class=\"childlink\"><a href=\"admininsobj.do?opcionbase=todos&soloaplicar=true\"><img src=\"comunes/imagenes/file-check.png\" height=\"18\" title=\"Aplicar estudio\">&nbsp;Aplicar</a></li>\n										</ul>\n									</li>\n									<li class=\"headlink\">\n										<a id='link_colecciones_de_datos' href=\"#\" title=\"Arme, modifique y elimine agrupaci&oacute;n de datos entre censos y/o encuestas\" onmouseover=\"this.focus();\">Colecciones De Datos</a>\n										<ul style=\"display: none;\">\n											<li class=\"childlink\"><a href=\"adminobjetos.do?tipoinstrumento=relacion&opcionbase=armar\"><img src=\"comunes/imagenes/file-add.png\" height=\"18\" title=\"Crear colecci&oacute;n de datos\">&nbsp;Crear</a></li>\n											<li class=\"childlink\"><a href=\"adminobjetos.do?tipoinstrumento=relacion&opcionbase=modificar\"><img src=\"comunes/imagenes/file-edit.png\" height=\"18\" title=\"Modificar colecci&oacute;n de datos\">&nbsp;Modificar</a></li>\n											<li class=\"childlink\"><a href=\"adminobjetos.do?tipoinstrumento=relacion&opcionbase=eliminar\"><img src=\"comunes/imagenes/file-delete.png\" height=\"18\" title=\"Eliminar colecci&oacute;n de datos\">&nbsp;Eliminar</a></li>\n											<li class=\"childlink\"><a href=\"adminobjetos.do?tipoinstrumento=relacion&opcionbase=revisar\"><img src=\"comunes/imagenes/file-review.png\" height=\"18\" title=\"Revisar colecci&oacute;n de datos\">&nbsp;Revisar</a></li>\n										</ul>\n									</li>\n									<li class=\"headlink\">\n										<a id='opciones_link' href=\"#\" title=\"Otras opciones\" onmouseover=\"this.focus();\">Opciones</a>\n										<ul style=\"display: none;\">\n											<li class=\"childlink\">\n												<a id='link_msg' href=\"mensaje.do\"><img src=\"comunes/imagenes/email.png\" height=\"18\" title=\"Env&iacute;e un correo electr&oacute;nico a un conjunto de personas\">&nbsp;Mensaje</a>\n											</li>\n											<li class=\"childlink\">\n												".toCharArray();
    _jsp_string3 = "\n<script type=\"text/javascript\" charset=\"UTF-8\">\nfunction validarEntero(_nombreElem){\n	var mielem = document.getElementById(_nombreElem);\n  var er = /^[-]*[0-9]+$/;\n  if(mielem.value.match(er)){\n	  return true;\n  }else{\n	  alert(\"Solo pueden ingresarse numeros enteros.\");\n	  mielem.value = \"0\";\n	  mielem.focus();\n		hacerPreview();\n	  return false;\n  }\n}\n\nfunction validarDouble(_nombreElem){\n	var mielem = document.getElementById(_nombreElem);\n  var er = /^[-+]?[0-9]+(\\.[0-9]+)?$/;\n  if(mielem.value.match(er)){\n	  return true;\n  }else{\n	  alert(\"Solo pueden ingresarse numeros con o sin decimales.\");\n	  mielem.value = \"0.0\";\n	  mielem.focus();	  \n		hacerPreview();\n	  return false;\n  }\n}\n\n// variables\nvar conteo_parentesis = 0; // para controlar cuantos parentesis se han incorporado.\nvar linea_actual = 1; //nos ubica en la linea donde se estan haciendo las operaciones.\nvar array_preguntas = new Array(); //contiene las preguntas disponibles ordenadas por ordenPregunta\nvar array_operadores = new Array(); //todos los operadores disponibles para el usuario.\nvar array_conectores = new Array(); //todos los conectores disponibles para el usuario.\nvar _noextendido = 1; //indica que los operadores no extendidos (para preguntas tipo 1 o 2) llega hasta el indice indicado\n\n//indicamos todos los operadores.\narray_operadores[0] = new Array();       //el operador en 0 siempre ser\u00c3\u00a1 default selected\narray_operadores[0][\"id\"] = \"equal\";\narray_operadores[0][\"operador\"] = \" = \";\narray_operadores[1] = new Array();\narray_operadores[1][\"id\"] = \"notequal\";\narray_operadores[1][\"operador\"] = \" <> \";\narray_operadores[2] = new Array();\narray_operadores[2][\"id\"] = \"parecido\";\narray_operadores[2][\"operador\"] = \" ~ \";\narray_operadores[3] = new Array();\narray_operadores[3][\"id\"] = \"lt\";\narray_operadores[3][\"operador\"] = \" < \";\narray_operadores[4] = new Array();\narray_operadores[4][\"id\"] = \"gt\";\narray_operadores[4][\"operador\"] = \" > \";\narray_operadores[5] = new Array();\narray_operadores[5][\"id\"] = \"let\";\narray_operadores[5][\"operador\"] = \" <= \";\narray_operadores[6] = new Array();\narray_operadores[6][\"id\"] = \"get\";\narray_operadores[6][\"operador\"] = \" >= \";\n\n//indicamos todos los conectores.\narray_conectores[0] = new Array();       //el conector en 0 siempre ser\u00c3\u00a1 default selected\narray_conectores[0][\"id\"] = \"and\";\narray_conectores[0][\"conector\"] = \" Y \";\narray_conectores[1] = new Array();\narray_conectores[1][\"id\"] = \"or\";\narray_conectores[1][\"conector\"] = \" O \";\n\n".toCharArray();
    _jsp_string18 = "\">\n						".toCharArray();
    _jsp_string6 = "\n										".toCharArray();
    _jsp_string1 = "\n	".toCharArray();
    _jsp_string21 = "\" id=\"email_id_invite\" name=\"email_id_invite\">\n	<input type=\"hidden\" value=\"".toCharArray();
    _jsp_string14 = "\n											</li>\n											<li class=\"childlink\">\n												<a id='link_salir' href=\"salir.do\" onclick=\"return confirm('Desea realmente abandonar la aplicacion?');\"><img src=\"comunes/imagenes/exit.png\" height=\"18\" title=\"Cierre su sesi&oacute;n y vuelva a la p&aacute;gina inicial\">&nbsp;Salir</a>\n											</li>\n										</ul>\n									</li>\n								</ul>\n							</div>\n							<br /><br />\n						</td>\n					</tr>\n				</table>\n\n".toCharArray();
    _jsp_string9 = "\n											<li class=\"childlink\"><a href=\"adminobjetos.do?tipoinstrumento=estructura&opcionbase=armar\"><img src=\"comunes/imagenes/file-add.png\" height=\"18\" title=\"Armar estructura base\">&nbsp;Crear</a></li>\n											<li class=\"childlink\"><a href=\"adminobjetos.do?tipoinstrumento=estructura&opcionbase=modificar\"><img src=\"comunes/imagenes/file-edit.png\" height=\"18\" title=\"Modificar estructura base\">&nbsp;Modificar</a></li>\n											<li class=\"childlink\"><a href=\"adminobjetos.do?tipoinstrumento=estructura&opcionbase=crear\"><img src=\"comunes/imagenes/file-check.png\" height=\"18\" title=\"Generar estructura base previamente armada\">&nbsp;Generar</a></li>\n											<li class=\"childlink\"><a href=\"adminobjetos.do?tipoinstrumento=estructura&opcionbase=eliminar\"><img src=\"comunes/imagenes/file-delete.png\" height=\"18\" title=\"Eliminar estructura base\">&nbsp;Eliminar</a></li>\n											".toCharArray();
    _jsp_string4 = "\n\n//crea un select con los operadores disponibles asignando automanticamente su id, nombre\n//si _extendido muestra todos los operadores, caso contrario solo hasta donde indique __noextendido\nfunction creaSelectOperadores(_id, _nombre, _preguntaPadreId){\n	var _tipoPregunta = 30;\n	var _valorpadre;\n	var _span;\n	var _retornar = true;\n	var _select;\n\n	try{\n		_span = document.getElementById(\"span_operador_\"+_id);\n		_retornar = false;\n		if(_span == null){\n			_span = document.createElement(\"span\");\n			_retornar = true;\n		}\n	}catch(error){\n		_span = document.createElement(\"span\");\n		_retornar = true;\n	}\n\n	try{\n		var _padre = document.getElementById(_preguntaPadreId);\n		if(_padre == null){\n			_valorpadre = 0;\n		}else{\n			_valorpadre = _padre.value;\n		}\n	}catch(error){\n		_valorpadre = 0;\n	}\n\n	for(var i = 0; i < array_preguntas.length ;i++){\n		if(_valorpadre != array_preguntas[i][\"id\"]){\n			continue;\n		}\n		_tipoPregunta = array_preguntas[i][\"tipopregunta\"];\n\n		try{\n			var _select2 = document.getElementById(\"operador_\"+_id);\n			if(_select2 != null){\n				//lo consigue debe entonces borrar lo que hay antes de agregar\n				var _tempPadre = _select2.parentNode;\n				_tempPadre.removeChild(_select2);\n			}\n		}catch(error){\n		}\n\n		var _extendido = true;\n		_select = document.createElement(\"select\");\n		_extendido = (_tipoPregunta >= 30);\n		var _temp;\n		for(var j = 0; j < array_operadores.length ;j++){\n			if(!_extendido){\n				if(j > _noextendido){\n					break;					\n				}\n			}\n			if(j == 2 && (_tipoPregunta == 31 || _tipoPregunta == 32 || _tipoPregunta == 33)){\n				continue;\n			}\n			_temp = new Option(array_operadores[j][\"operador\"], array_operadores[j][\"id\"]);\n			_select.options[_select.options.length] = _temp;\n		}\n		_select.name = \"operador_\"+_nombre;\n		_select.id = \"operador_\"+_id;\n		_select.onchange = function(){\n				hacerPreview();\n			};\n		break;\n	}\n\n	_span.name = \"span_operador_\"+_nombre;\n	_span.id = \"span_operador_\"+_id;\n	if(_select != null){\n		_span.appendChild(_select);\n	}\n	if(_retornar){\n		return _span;\n	}else{\n		return null;\n	}\n}\n\n//crea un select con los conectores disponibles asignando automanticamente su id, nombre\nfunction creaSelectConectores(_id, _nombre){\n	var _span = document.createElement(\"span\");\n\n	var _select = document.createElement(\"select\");\n	var _temp;\n	for(var i = 0; i < array_conectores.length ;i++){\n		_temp = new Option(array_conectores[i][\"conector\"], array_conectores[i][\"id\"]);\n		_select.options[_select.options.length] = _temp;\n	}\n\n	_select.options[0].defaultSelected = true;\n	_select.options[0].selected = true;\n	_select.name = \"conector_\"+_nombre;\n	_select.id = \"conector_\"+_id;\n	_span.name = \"span_conector_\"+_nombre;\n	_span.id = \"span_conector_\"+_id;\n\n	_span.appendChild(_select);\n	_select.onchange = function(){\n			hacerPreview();\n		};\n	return _span;\n}\n\n//crea un select con las preguntas disponibles asignando automanticamente su id, nombre\nfunction creaSelectPreguntas(_id, _nombre){\n	var _span = document.createElement(\"span\");\n\n	var _select = document.createElement(\"select\");\n	var _temp;\n	_select.options[0] = new Option(\"Seleccione la pregunta\", \"-1\");\n	for(var i = 0; i < array_preguntas.length ;i++){\n		_temp = new Option(array_preguntas[i][\"pregunta\"], array_preguntas[i][\"id\"]);\n		_select.options[_select.options.length] = _temp;\n	}\n	if(_select.options.length > 0){\n		_select.options[0].defaultSelected = true;\n		_select.options[0].selected = true;\n	}\n	_select.name = \"pregunta_\"+_nombre;\n	_select.id = \"pregunta_\"+_id;\n	_span.name = \"span_pregunta_\"+_nombre;\n	_span.id = \"span_pregunta_\"+_id;\n	_select.onchange = function(){\n			creaSelectRespuestas(_id, _nombre, \"pregunta_\"+_id);\n			creaSelectOperadores(_id, _nombre, \"pregunta_\"+_id);\n			var _span_ = document.getElementById(\"span_\"+(_id));\n			if(_id == linea_actual){\n				_span_.style.display = \"inline\";\n			}\n			hacerPreview();\n		};\n	_span.appendChild(_select);\n	return _span;\n}\n\n//crea un select con las respuestas disponibles asignando automanticamente su id, nombre\nfunction creaSelectRespuestas(_id, _nombre, _preguntaPadreId){\n	var _tipoPregunta = 30;\n	var _valorpadre;\n	var _span;\n	var _retornar = true;\n	var _select;\n\n	try{\n		_span = document.getElementById(\"span_respuesta_\"+_id);\n		_retornar = false;\n		if(_span == null){\n			_span = document.createElement(\"span\");\n			_retornar = true;\n		}\n	}catch(error){\n		_span = document.createElement(\"span\");\n		_retornar = true;\n	}\n\n	try{\n		var _padre = document.getElementById(_preguntaPadreId);\n		if(_padre == null){\n			_valorpadre = 0;\n		}else{\n			_valorpadre = _padre.value;\n		}\n	}catch(error){\n		_valorpadre = 0;\n	}\n\n	for(var i = 0; i < array_preguntas.length ;i++){\n		if(_valorpadre != array_preguntas[i][\"id\"]){\n			continue;\n		}\n		_tipoPregunta = array_preguntas[i][\"tipopregunta\"];\n\n\n		try{\n			var _select2 = document.getElementById(\"respuesta_\"+_id);\n			if(_select2 != null){\n				//lo consigue debe entonces borrar lo que hay antes de agregar\n				var _tempPadre = _select2.parentNode;\n				_tempPadre.removeChild(_select2);\n			}\n		}catch(error){\n		}\n\n		if(_tipoPregunta >= 30){\n			_select = document.createElement(\"input\");\n			_select.type = \"text\";\n			_select.onblur = function(){\n				  hacerPreview();\n				}\n			_select.onmouseover = function(){\n				  hacerPreview();\n				}\n\n			if(_tipoPregunta == 31){\n				//solo entero\n				_select.value = \"0\";\n				_select.onblur = function(){\n						validarEntero(\"respuesta_\"+_id);\n					}\n			}\n			if(_tipoPregunta == 32){\n				//solo Double\n				_select.value = \"0.0\";\n				_select.onblur = function(){\n						validarDouble(\"respuesta_\"+_id);\n					}\n			}\n			if(_tipoPregunta == 33){\n				//solo fecha\n				_select.readOnly = true;\n				_select.onclick = function(){\n 	          if(self.gfPop)gfPop.fPopCalendar(document.getElementById(\"respuesta_\"+_id));\n						return false;\n					}\n			}\n		}else{\n			_select = document.createElement(\"select\");\n			_select.multiple = false;\n			var _temp = new Option(\"No sabe / No responde\", \"-1\", true, true);\n			_select.options[_select.options.length] = _temp;\n			for(var j = 0; j < array_preguntas[i][\"respuestas\"].length ;j++){\n				_temp = new Option(array_preguntas[i][\"respuestas\"][j][\"respuesta\"], array_preguntas[i][\"respuestas\"][j][\"id\"]);\n				_select.options[_select.options.length] = _temp;\n			}\n		}\n		_select.name = \"respuesta_\"+_nombre;\n		_select.id = \"respuesta_\"+_id;\n		_select.onchange = function(){\n				hacerPreview();\n			};\n		break;\n	}\n\n	_span.name = \"span_respuesta_\"+_nombre;\n	_span.id = \"span_respuesta_\"+_id;\n	if(_select != null){\n		_span.appendChild(_select);\n	}\n	if(_retornar){\n		return _span;\n	}else{\n		return null;\n	}\n}\n\n//crea un select con los parentesis asignando automanticamente su id, nombre\nfunction creaSelectParentesisAbierto(_id, _nombre){\n	var _span = document.createElement(\"span\");\n	var _select = document.createElement(\"select\");\n	var _input = document.createElement(\"input\");\n	_input.readOnly = true;\n\n	var _temp;\n	_temp = new Option(\"\",\"\");\n	_select.options[_select.options.length] = _temp;\n	_temp = new Option(\"+1 (\",\"+1\");\n	_select.options[_select.options.length] = _temp;\n	_temp = new Option(\"+2 ((\",\"+2\");\n	_select.options[_select.options.length] = _temp;\n	_temp = new Option(\"+3 (((\",\"+3\");\n	_select.options[_select.options.length] = _temp;\n	_temp = new Option(\"+5 (((((\",\"+5\");\n	_select.options[_select.options.length] = _temp;\n	_temp = new Option(\"sin parentesis\", \"0\");\n	_select.options[_select.options.length] = _temp;\n	_temp = new Option(\"-1\", \"-1\");\n	_select.options[_select.options.length] = _temp;\n	_temp = new Option(\"-2\",\"-2\");\n	_select.options[_select.options.length] = _temp;\n	_temp = new Option(\"-3\",\"-3\");\n	_select.options[_select.options.length] = _temp;\n	_temp = new Option(\"-5\",\"-5\");\n	_select.options[_select.options.length] = _temp;\n\n	_select.options[5].defaultSelected = true;\n	_select.options[5].selected = true;\n	_select.name = \"parentesisabierto_\"+_nombre;\n	_select.id = \"parentesisabierto_\"+_id;\n	_input.name = \"parentesisabiertoinput_\"+_nombre;\n	_input.id = \"parentesisabiertoinput_\"+_id;\n	_input.value = \"\";\n	_input.size = \"4\";\n	_input.style.display = \"none\";\n\n	_span.name = \"span_parentesisabierto_\"+_nombre;\n	_span.id = \"span_parentesisabierto_\"+_id;\n	_span.appendChild(_select);\n	_span.appendChild(_input);\n	_select.onchange = function(){\n			var limit = 0;\n			if(_select.value == \"-1\"){\n			 limit = 1;\n			}\n			if(_select.value == \"-2\"){\n				limit = 2;\n			}\n			if(_select.value == \"-3\"){\n				limit = 3;\n			}\n			if(_select.value == \"-5\"){\n				limit = 5;\n			}\n			if(limit > 0){\n				var _total = _input.value.length - limit;\n				_input.value = \"\";\n				for(var i = 0;i<_total;i++){\n					_input.value = _input.value+\"(\";\n				}\n			}\n			if(_select.value == \"0\"){\n				_input.value = \"\";\n			}\n			if(_select.value == \"+1\"){\n				_input.value = _input.value+\"(\";\n			}\n			if(_select.value == \"+2\"){\n				_input.value = _input.value+\"((\";\n			}\n			if(_select.value == \"+3\"){\n				_input.value = _input.value+\"(((\";\n			}\n			if(_select.value == \"+5\"){\n				_input.value = _input.value+\"(((((\";\n			}\n			if(_input.value.length > 0){\n				_input.style.display = \"inline\";\n				_select.options[0].defaultSelected = true;\n				_select.options[0].selected = true;\n			}else{\n				_select.options[5].defaultSelected = true;\n				_select.options[5].selected = true;\n				_input.style.display = \"none\";\n			}\n			hacerPreview();\n		};\n	return _span;\n}\n\n//crea un select con los parentesis asignando automanticamente su id, nombre\nfunction creaSelectParentesisCerrado(_id, _nombre){\n	var _span = document.createElement(\"span\");\n	var _select = document.createElement(\"select\");\n	var _input = document.createElement(\"input\");\n	_input.readOnly = true;\n\n	var _temp;\n	_temp = new Option(\"\",\"\");\n	_select.options[_select.options.length] = _temp;\n	_temp = new Option(\"+1 )\",\"+1\");\n	_select.options[_select.options.length] = _temp;\n	_temp = new Option(\"+2 ))\",\"+2\");\n	_select.options[_select.options.length] = _temp;\n	_temp = new Option(\"+3 )))\",\"+3\");\n	_select.options[_select.options.length] = _temp;\n	_temp = new Option(\"+5 )))))\",\"+5\");\n	_select.options[_select.options.length] = _temp;\n	_temp = new Option(\"sin parentesis\", \"0\");\n	_select.options[_select.options.length] = _temp;\n	_temp = new Option(\"-1\", \"-1\");\n	_select.options[_select.options.length] = _temp;\n	_temp = new Option(\"-2\",\"-2\");\n	_select.options[_select.options.length] = _temp;\n	_temp = new Option(\"-3\",\"-3\");\n	_select.options[_select.options.length] = _temp;\n	_temp = new Option(\"-5\",\"-5\");\n	_select.options[_select.options.length] = _temp;\n\n	_select.options[5].defaultSelected = true;\n	_select.options[5].selected = true;\n	_select.name = \"parentesiscerrado_\"+_nombre;\n	_select.id = \"parentesiscerrado_\"+_id;\n	_input.name = \"parentesiscerradoinput_\"+_nombre;\n	_input.id = \"parentesiscerradoinput_\"+_id;\n	_input.value = \"\";\n	_input.size = \"4\";\n	_input.style.display = \"none\";\n\n	_span.name = \"span_parentesiscerrado_\"+_nombre;\n	_span.id = \"span_parentesiscerrado_\"+_id;\n	_span.appendChild(_input);\n	_span.appendChild(_select);\n	_select.onchange = function(){\n			var limit = 0;\n			if(_select.value == \"-1\"){\n			 limit = 1;\n			}\n			if(_select.value == \"-2\"){\n				limit = 2;\n			}\n			if(_select.value == \"-3\"){\n				limit = 3;\n			}\n			if(_select.value == \"-5\"){\n				limit = 5;\n			}\n			if(limit > 0){\n				var _total = _input.value.length - limit;\n				_input.value = \"\";\n				for(var i = 0;i<_total;i++){\n					_input.value = _input.value+\")\";\n				}\n			}\n			if(_select.value == \"0\"){\n				_input.value = \"\";\n			}\n			if(_select.value == \"+1\"){\n				_input.value = _input.value+\")\";\n			}\n			if(_select.value == \"+2\"){\n				_input.value = _input.value+\"))\";\n			}\n			if(_select.value == \"+3\"){\n				_input.value = _input.value+\")))\";\n			}\n			if(_select.value == \"+5\"){\n				_input.value = _input.value+\")))))\";\n			}\n			if(_input.value.length > 0){\n				_input.style.display = \"inline\";\n				_select.options[0].defaultSelected = true;\n				_select.options[0].selected = true;\n			}else{\n				_select.options[5].defaultSelected = true;\n				_select.options[5].selected = true;\n				_input.style.display = \"none\";\n			}\n			hacerPreview();\n		};\n	return _span;\n}\n\n//procedimientos\nfunction validoConteoParentesis(){\n	return (conteo_parentesis == 0);\n}\n\nfunction restaParentesis(){\n	conteo_parentesis--;\n}\n\nfunction sumaParentesis(){\n	conteo_parentesis++;\n}\n\nfunction restaLineaActual(){\n	linea_actual--;\n}\n\nfunction sumaLineaActual(){\n	linea_actual++;\n}\n\nfunction ruedaLineasArriba(linea){\n	for(var i=linea;i<linea_actual;i++){\n		$(\"#conector_\"+i).val($(\"#conector_\"+(i+1)).val());\n		$(\"#conector_\"+i).css(\"display\",$(\"#conector_\"+(i+1)).css(\"display\"));\n\n		$(\"#parentesisabierto_\"+i).val($(\"#parentesisabierto_\"+(i+1)).val());\n		$(\"#parentesisabierto_\"+i).css(\"display\",$(\"#parentesisabierto_\"+(i+1)).css(\"display\"));\n		\n		$(\"#parentesisabiertoinput_\"+i).val($(\"#parentesisabiertoinput_\"+(i+1)).val());\n		$(\"#parentesisabiertoinput_\"+i).css(\"display\", $(\"#parentesisabiertoinput_\"+(i+1)).css(\"display\"));\n\n		$(\"#pregunta_\"+i).val($(\"#pregunta_\"+(i+1)).val());\n		$(\"#pregunta_\"+i).css(\"display\", $(\"#pregunta_\"+(i+1)).css(\"display\"));\n		\n		creaSelectOperadores(i, i, \"pregunta_\"+i);\n		creaSelectRespuestas(i, i, \"pregunta_\"+i);\n\n		$(\"#operador_\"+i).val($(\"#operador_\"+(i+1)).val());\n		$(\"#operador_\"+i).css(\"display\", $(\"#operador_\"+(i+1)).css(\"display\"));\n\n		$(\"#respuesta_\"+i).val($(\"#respuesta_\"+(i+1)).val());\n		$(\"#respuesta_\"+i).css(\"display\", $(\"#respuesta_\"+(i+1)).css(\"display\"));\n\n		$(\"#parentesiscerradoinput_\"+i).val($(\"#parentesiscerradoinput_\"+(i+1)).val());\n		$(\"#parentesiscerradoinput_\"+i).css(\"display\", $(\"#parentesiscerradoinput_\"+(i+1)).css(\"display\"));\n\n		$(\"#parentesiscerrado_\"+i).val($(\"#parentesiscerrado_\"+(i+1)).val());\n		$(\"#parentesiscerrado_\"+i).css(\"display\", $(\"#parentesiscerrado_\"+(i+1)).css(\"display\"));\n	}\n}\n\nfunction ruedaLineasAbajo(linea){\n	for(var i=(linea_actual-1);i>linea;i--){\n		$(\"#parentesisabierto_\"+(i+1)).val($(\"#parentesisabierto_\"+i).val());\n		$(\"#parentesisabierto_\"+(i+1)).css(\"display\", $(\"#parentesisabierto_\"+i).css(\"display\"));\n\n		$(\"#parentesisabiertoinput_\"+(i+1)).val($(\"#parentesisabiertoinput_\"+i).val());\n		$(\"#parentesisabiertoinput_\"+(i+1)).css(\"display\",$(\"#parentesisabiertoinput_\"+i).css(\"display\"));\n\n		$(\"#pregunta_\"+(i+1)).val($(\"#pregunta_\"+i).val());\n		$(\"#pregunta_\"+(i+1)).css(\"display\",$(\"#pregunta_\"+i).css(\"display\"));\n\n		creaSelectOperadores((i+1), (i+1), \"pregunta_\"+(i+1));\n		creaSelectRespuestas((i+1), (i+1), \"pregunta_\"+(i+1));\n\n		$(\"#operador_\"+(i+1)).val($(\"#operador_\"+i).val());\n		$(\"#operador_\"+(i+1)).css(\"display\", $(\"#operador_\"+i).css(\"display\"));\n\n		$(\"#respuesta_\"+(i+1)).val($(\"#respuesta_\"+i).val());\n		$(\"#respuesta_\"+(i+1)).css(\"display\",$(\"#respuesta_\"+i).css(\"display\"));\n\n		$(\"#parentesiscerradoinput_\"+(i+1)).val($(\"#parentesiscerradoinput_\"+i).val());\n		$(\"#parentesiscerradoinput_\"+(i+1)).css(\"display\",$(\"#parentesiscerradoinput_\"+i).css(\"display\"));\n\n		$(\"#parentesiscerrado_\"+(i+1)).val($(\"#parentesiscerrado_\"+i).val());\n		$(\"#parentesiscerrado_\"+(i+1)).css(\"display\",$(\"#parentesiscerrado_\"+i).css(\"display\"));\n	}\n	$(\"#parentesisabierto_\"+(linea+1)).val(\"\");\n	$(\"#parentesisabiertoinput_\"+(linea+1)).val(\"\");\n	$(\"#pregunta_\"+(linea+1)).val(\"\");\n	creaSelectOperadores((linea+1), (linea+1), \"pregunta_\"+(linea+1));\n	creaSelectRespuestas((linea+1), (linea+1), \"pregunta_\"+(linea+1));\n	$(\"#operador_\"+(linea+1)).val(\"\");\n	$(\"#respuesta_\"+(linea+1)).val(\"\");\n	$(\"#parentesiscerradoinput_\"+(linea+1)).val(\"\");\n	$(\"#parentesiscerrado_\"+(linea+1)).val(\"\");\n}\n\nfunction borraUltimaLinea(){\n	//busco el div que corresponde\n	var midiv = document.getElementById(\"div_\"+linea_actual);\n	var _tm = midiv.parentNode;\n	_tm.removeChild(midiv);\n\n	//creo el div eliminado, pero vacio\n	midiv = document.createElement(\"div\");\n	midiv.name = \"div_\"+(linea_actual);\n	midiv.id= \"div_\"+(linea_actual);\n	midiv.style.display = \"none\";\n	_tm.appendChild(midiv);\n\n	var _span = document.getElementById(\"span_\"+(linea_actual-1));\n	_span.style.display = \"inline\";\n\n	restaLineaActual();\n	hacerPreview();\n}\n\nfunction creaNuevaLinea(){\n	sumaLineaActual();\n	//busco el div que corresponde para agregar todos los elementos necesarios\n	var midiv = document.getElementById(\"div_\"+linea_actual);\n\n	midiv.appendChild(creaSelectConectores(linea_actual, linea_actual));\n	midiv.appendChild(creaSelectParentesisAbierto(linea_actual, linea_actual));\n	midiv.appendChild(creaSelectPreguntas(linea_actual, linea_actual));\n	var _operador = creaSelectOperadores(linea_actual, linea_actual, \"pregunta_\"+linea_actual);\n	if(_operador != null){\n		//caso contrario == null => ya existia el span solo estoy actualizando el contenido\n		midiv.appendChild(_operador);\n	}\n	var _respuesta = creaSelectRespuestas(linea_actual, linea_actual, \"pregunta_\"+linea_actual);\n	if(_respuesta != null){\n		//caso contrario == null => ya existia el span solo estoy actualizando el contenido\n		midiv.appendChild(_respuesta);\n	}\n	midiv.appendChild(creaSelectParentesisCerrado(linea_actual, linea_actual));\n\n	var _span = document.getElementById(\"span_\"+(linea_actual-1));\n	//dejo habilitado los img de add y delete\n	//_span.style.display = \"none\";\n\n	_span = document.createElement(\"span\");\n	_span.name = \"span_\"+linea_actual;\n	_span.id = \"span_\"+linea_actual;\n\n	var _mitemporal = document.createElement(\"span\");\n	_mitemporal.innerHTML = \"&nbsp;&nbsp;\"\n	_span.appendChild(_mitemporal);\n\n	var _imagenenlace = document.createElement(\"img\");\n	var _lAc = linea_actual;\n	_imagenenlace.setAttribute(\"src\",\"comunes/imagenes/add.png\");\n	_imagenenlace.setAttribute(\"alt\",\"Agrega una nueva linea\");\n	_imagenenlace.setAttribute(\"title\",\"Agrega una nueva linea\");\n	_imagenenlace.setAttribute(\"height\",\"24\");\n	_imagenenlace.setAttribute(\"width\",\"24\");\n	_imagenenlace.onclick = function(){\n			creaNuevaLinea();\n			ruedaLineasAbajo(_lAc);\n		};\n	_span.appendChild(_imagenenlace);\n\n	_mitemporal = document.createElement(\"span\");\n	_mitemporal.innerHTML = \"&nbsp;&nbsp;\"\n	_span.appendChild(_mitemporal);\n\n	if(linea_actual > 1){\n		_imagenenlace = document.createElement(\"img\");\n		_imagenenlace.setAttribute(\"src\",\"comunes/imagenes/delete.png\");\n		_imagenenlace.setAttribute(\"alt\",\"Eliminar Esta linea\");\n		_imagenenlace.setAttribute(\"title\",\"Elimina Esta linea\");\n		_imagenenlace.setAttribute(\"height\",\"24\");\n		_imagenenlace.setAttribute(\"width\",\"24\");\n		_imagenenlace.onclick = function(){\n				ruedaLineasArriba(_lAc);\n		    borraUltimaLinea();\n			};\n		_span.appendChild(_imagenenlace);\n	}\n	_span.style.display = \"inline\";\n	midiv.appendChild(_span);\n\n	//creo el div siguiente que no contendr\u00c3\u00a1 nada pero estar\u00c3\u00a1 listo para cuando se cree una nueva linea\n	var _divt = document.createElement(\"div\");\n	_divt.name = \"div_\"+(linea_actual+1);\n	_divt.id= \"div_\"+(linea_actual+1);\n	_divt.style.display = \"none\";\n	midiv.appendChild(_divt);\n\n	//finalmente hago el div visible.\n	midiv.style.display = \"block\";\n	hacerPreview();\n}\n\nfunction hacerPreview(){\n	conteo_parentesis = 0;\n	var _output = document.getElementById(\"preview\");\n	var _elem;\n	var _salida = \"\";\n	var tipoPregunta = 30;\n	var _temp;\n	var _elempregunta;\n	\n	//vacio la pantalla.\n	_output.innerHTML = \"\";\n\n	for(var i = 1; i <= linea_actual ; i++){\n		if(i > 1){\n			_elem = document.getElementById(\"conector_\"+i);\n			_salida = _salida+\"&nbsp;<span style='color:red;font-weight: bold;'>\"+_elem.options[_elem.selectedIndex].text+\"</span>\"+\"<br />\";\n		}\n\n		_elem = document.getElementById(\"parentesisabiertoinput_\"+i);\n		_salida = _salida+\"&nbsp;<span style='color:#336600'>\"+_elem.value+\"</span>\";\n\n		for(var mii = 0;mii <_elem.value.length; mii++){\n			restaParentesis();\n		}\n\n		_elempregunta = document.getElementById(\"pregunta_\"+i);\n		for(var j=0;j < array_preguntas.length ; j++){\n	 	  if(array_preguntas[j][\"id\"] == _elempregunta.value){\n			   tipoPregunta = array_preguntas[j][\"tipopregunta\"];\n			   break;\n		   }\n		}\n\n		_salida = _salida+\"&nbsp;<span style='color:blue;font-weight: normal;'>\"+_elempregunta.options[_elempregunta.selectedIndex].text+\"</span>\";\n\n		_elem = document.getElementById(\"operador_\"+i);\n		if(_elem != null){\n			_salida = _salida+\"&nbsp;<span style='color:red;font-weight: bold;'>\"+_elem.options[_elem.selectedIndex].text+\"</span>\";\n		}\n\n		_elem = document.getElementById(\"respuesta_\"+i);\n\n		_temp = \"\";\n		if(_elem != null){\n			if((tipoPregunta == 1) || (tipoPregunta == 2)){\n				_salida = _salida+\"&nbsp;<span style='color:blue;font-weight: normal;'>\"+_elem.options[_elem.selectedIndex].text+\"</span>\";\n\n			}else{\n				_salida = _salida+\"&nbsp;<span style='color:blue;font-weight: normal;'>\"+_elem.value+\"</span>\";\n			}\n		}\n\n		_elem = document.getElementById(\"parentesiscerradoinput_\"+i);\n		_salida = _salida+\"&nbsp;<span style='color:#336600'>\"+_elem.value+\"</span>\";\n\n		for(var mii = 0;mii <_elem.value.length; mii++){\n			sumaParentesis();\n		}\n\n		_salida = _salida;\n	}\n	_output.innerHTML = _salida;\n\n}\n\nfunction ProcesarSinCondiciones(){\n	//Se comprobo ahora se espera confirmacion del usuario\n	var _confirmacion = confirm('Desea finalizar ahora?. Una vez seleccionados los participantes no podran modificarse. \\n Recuerde, al no indicar condiciones, se tomaran todos los datos.');\n	if(_confirmacion){\n		var _temp = document.getElementById(\"miaccion\");\n		_temp.value = \"procesar\";\n		_temp = document.getElementById(\"total_lineas\");\n		_temp.value = 0;\n	  return true;\n	}\n	return false;\n}\n\nfunction Procesar(){\n	hacerPreview();\n	if(!validoConteoParentesis()){\n		if(conteo_parentesis < 0){\n			alert(\"Existen parentesis que no se han cerrado. Se espera ')' \");\n		}\n		if(conteo_parentesis > 0){\n			alert(\"Existen parentesis que no han sido abiertos. Se espera '('\");\n		}\n		return false;\n	}\n	var anular = 0;\n	var _temp;\n	var _confirmacion = true;\n	for(var i=1;i<= linea_actual;i++){\n		_temp = document.getElementById(\"pregunta_\"+i);\n		if(_temp != null){\n			if(_temp.value == -1){\n				if(linea_actual == 1){\n					//estoy en la primera linea es probable que no me interesen las condiciones, pregunto\n					if(confirm(\"Desea continuar sin establecer condiciones de busqueda?\")){\n						anular = 1;\n						_confirmacion = true;\n					}else{\n						//alert(\"Pregunta no seleccionada en la linea \"+i);\n						_confirmacion = false;\n						return false;\n					}\n				}else{\n					alert(\"Debe indicar la pregunta en la linea \"+i);\n					return false;\n				}\n			}\n		}\n	}\n	//Se comprobo ahora se espera confirmacion del usuario\n	//var _confirmacion = confirm('Desea finalizar ahora?. Una vez seleccionados los participantes no podran modificarse.');\n	if(_confirmacion){\n		_temp = document.getElementById(\"miaccion\");\n		_temp.value = \"procesar\";\n		_temp = document.getElementById(\"total_lineas\");\n		if(anular == 1){\n			_temp.value = 0;\n		}else{\n			_temp.value = linea_actual;\n		}\n	}\n	return _confirmacion;\n}\n\nfunction procesarFormSQL(){\n	var _valido = Procesar();\n	if(!_valido){\n		return false;\n	}\n	var _id = $(\"#hacerpreview\").attr(\"value\");\n	if(_id == 'verdad'){\n		var _ventana = window.open(\"\",\"ventana\");\n		$(\"#formgenerasql\").attr(\"target\", \"ventana\");\n		document.formgenerasql.submit();\n		_ventana.focus();\n	}else{\n		$(\"#formgenerasql\").attr(\"target\", \"_top\");\n		document.formgenerasql.submit();\n	}\n	return _valido;\n}\n$(document).ready(function(){\n	$('#cssdropdown li.headlink').hover(\n		function() { $('ul', this).css('display', 'block'); },\n		function() { $('ul', this).css('display', 'none'); });\n});\n\n</script>\n\n<center>\n<table cellpadding=\"0\" cellspacing=\"0\" class=\"tablaprincipal\" style=\"max-width:1150px;min-width:1150px;width:1150px\">\n	<tr>\n		<td valign=\"middle\" align=\"left\" style=\"border-top: burlywood ridge thick;border-left: burlywood ridge thick;border-width:3px;max-width:320px;width:320px\">\n			<a href=\"autenticar.do\"><img src=\"comunes/imagenes/siagcee_logo.png\" alt=\"\"></a>\n		</td>\n	</tr>\n	<tr>\n		<td valign=\"top\" align=\"left\">\n				<table cellpadding=\"0\" cellspacing=\"0\" class=\"tablasecundariatitulo\" style=\"max-width:1150px;min-width:1150px;width:1150px\">\n					<tr>\n						<td style=\"text-align: left;\">\n							<div style=\"position:absolute; z-index:1000;overflow:hidden;text-align:center;\">\n								<ul id=\"cssdropdown\" style=\"padding-left:2px\">\n									<li class=\"headlink\">\n										<a href=\"#\" id='link_preguntas' title=\"Cree, modifique o elimine preguntas que ser&aacute;n usadas en las estructuras base, censos o encuestas\" onmouseover=\"this.focus();\">Preguntas</a>\n										<ul style=\"display: none;\">\n											<li class=\"childlink\"><a href=\"adminpreguntas.do?opcionbase=crear\"><img src=\"comunes/imagenes/file-add.png\" height=\"18\" title=\"Crear pregunta\">&nbsp;Crear</a></li>\n											<li class=\"childlink\"><a href=\"adminpreguntas.do?opcionbase=modificar\"><img src=\"comunes/imagenes/file-edit.png\" height=\"18\" title=\"Modificar pregunta\">&nbsp;Modificar</a></li>\n											<li class=\"childlink\"><a href=\"adminpreguntas.do?opcionbase=eliminar\"><img src=\"comunes/imagenes/file-delete.png\" height=\"18\" title=\"Eliminar pregunta\">&nbsp;Eliminar</a></li>\n											<li class=\"childlink\"><a href=\"adminpreguntas.do?opcionbase=revisar\"><img src=\"comunes/imagenes/file-review.png\" height=\"18\" title=\"Revisar preguntas existentes que no se pueden modificar\">&nbsp;Revisar</a></li>\n										</ul>\n									</li>\n									<li class=\"headlink\">\n										".toCharArray();
    _jsp_string13 = "\n													<a id='link_administrar_cuentas' href=\"cuentas.do\"><img src=\"comunes/imagenes/profile.png\" height=\"18\" title=\"Administre sus datos personales\">&nbsp;Mi Cuenta</a>\n												".toCharArray();
    _jsp_string5 = "\n											<a href=\"#\" id='link_estructuras' title=\"Cree, modifique, publique o elimine estructuras que sirven de base para la creaci&oacute;n de censos o encuestas\" onmouseover=\"this.focus();\">Estructuras Base</a>\n										".toCharArray();
    _jsp_string16 = "\n		>Seleccione...</option>\n		".toCharArray();
    _jsp_string8 = "\n										<ul style=\"display: none;\">\n											".toCharArray();
    _jsp_string17 = "\n						<optgroup label=\"".toCharArray();
    _jsp_string2 = "\n<html>\n	<head>\n		<META http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\">\n		<title>SIGECENE - Sistema Para La Gesti\u00f3n De Censos, Encuestas y Estudios</title>\n    <link type=\"image/x-icon\" href=\"comunes/imagenes/favicon.ico\" rel=\"icon\" />\n    <link type=\"image/x-icon\" href=\"comunes/imagenes/favicon.ico\" rel=\"shortcut icon\" />\n		<link rel=\"stylesheet\" type=\"text/css\" href=\"comunes/css/micss.css\">\n		\n		<!-- IE 6 \"fixes\" -->\n		<!--[if lt IE 7]>\n		<link type='text/css' href='comunes/css/basic_ie.css' rel='stylesheet' media='screen' />\n		<![endif]-->\n		<script type=\"text/javascript\" src=\"comunes/javascript/jquery.js\"></script>\n		<script type=\"text/javascript\" src=\"comunes/javascript/jquery.simplemodal.js\"></script>\n		<script type=\"text/javascript\" src=\"comunes/javascript/jquery.tablesorter.min.js\"></script>\n		<script type=\"text/javascript\" src=\"comunes/javascript/espanol.js\"></script>\n		<script type=\"text/javascript\" src=\"comunes/javascript/whizzywig61.js\"></script>\n	</head>\n\n\n".toCharArray();
    _jsp_string19 = "\n			</optgroup>\n		</select>\n		<input type=\"submit\" value=\"Seleccionar\" style=\"display:none\">\n		<input type=\"submit\" value=\"Borrar Todo\" style=\"visibility:visible;\" id=\"_mi_btnresetear\"><p />\n	</form>\n	".toCharArray();
    _jsp_string24 = "\n</td></tr></table>\n<iframe name=\"gToday:contrast:agenda.js\" id=\"gToday:contrast:agenda.js\" src=\"Contrast/ipopeng.htm\" style=\"visibility: visible; z-index: 999; position: absolute; top: -500px; left: -500px;\" scrolling=\"no\" frameborder=\"0\" height=\"142\" width=\"132\">\n</iframe>\n				  </center>\r\n				</td>\r\n			</tr>\r\n		</table>\r\n		</center>\r\n		<div class=\"encapsulador\" id=\"id_encapsulador\" onclick=\"$('#id_encapsulador').hide('slow')\">\r\n			<div class=\"fondo\">\r\n				<div class=\"mensaje_alerta\">\r\n					<p><img src=\"comunes/imagenes/loading2.gif\" title=\"Cargando... por favor, espere un momento.\">&nbsp;Cargando... por favor, espere un momento.</p>\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</body>\r\n	<script type=\"text/javascript\" src=\"comunes/javascript/jquery.qtip.js\"></script>\r\n	<script type=\"text/javascript\">\r\n		$('img[title]').qtip({\r\n			style: {\r\n				name: 'green',\r\n				tip: true,\r\n				color: 'black'\r\n			},\r\n			border: {\r\n				 width: 7,\r\n				 radius: 5,\r\n				 color: '#A2D959'\r\n			},\r\n			hide:{ when: { event: 'mouseout'}},\r\n			position: {\r\n				corner: {\r\n				 target: 'topMiddle',\r\n				 tooltip: 'bottomMiddle'\r\n				}\r\n			 }\r\n		});\r\n		$('a[title]').qtip({\r\n			style: {\r\n				name: 'green',\r\n				tip: true,\r\n				color: 'black'\r\n			},\r\n			border: {\r\n				 width: 7,\r\n				 radius: 5,\r\n				 color: '#A2D959'\r\n			},\r\n			hide:{ when: { event: 'mouseout'}},\r\n			position: {\r\n				corner: {\r\n				 target: 'topMiddle',\r\n				 tooltip: 'bottomMiddle'\r\n				}\r\n			 }\r\n		});\r\n	</script>\r\n</html>\r\n".toCharArray();
    _jsp_string12 = "\n												".toCharArray();
    _jsp_string23 = "\">\n	<input type=\"submit\" value=\"Procesar\" onclick=\"return procesarFormSQL();\">\n</form>\n<p/><br /><strong>Vista Preliminar de la Consulta:</strong>\n<div id=\"preview\" name=\"preview\" style=\"max-width:800px;display:block;border-collapse:collapse;border-color: #CCCCCC;border-style:outset;border-width:thin;text-indent:5px;vertical-align:top;\">\n&nbsp;</div>\n".toCharArray();
    _jsp_string15 = "\n<table cellpadding=\"4\" cellspacing=\"4\" class='tablageneradorestudio2' style=\"max-width:1150px;min-width:1150px;width:1150px\">\n	<tr>\n		<td>\n		<h2>Obtener Participantes para el Instrumento</h2>\n		<form action=\"generadorsql.do\" method=\"post\" id=\"seleccionaform\" name=\"seleccionaform\" onsubmit=\"var _esteSele = document.getElementById('objetoatrabajar').value;if(_esteSele == ''){return false;}\">\n		<input type=\"hidden\" value=\"seleccionar\" id=\"accion\" name=\"accion\"> \n		<label>Instrumento:</label><select id=\"objetoatrabajar\" name=\"objetoatrabajar\" onchange=\"document.seleccionaform.submit();\">\n		<option id=\"\"\n		".toCharArray();
    _jsp_string0 = "\n\n\n\n\n<!--\n * Creado por F\u00e1bio Pereira.\n * Bajo la tutor\u00eda del Prof. Francisco Mirabal.\n * Trabajo Especial De Grado.\n * Licenciatura de Computaci\u00f3n.\n * Universidad Central de Venezuela.\n * Fecha: 10/12/2009\n * Hora: 09:07:17 AM\n-->\n".toCharArray();
    _jsp_string7 = "\n											<a href=\"#\" id='link_estructuras' title=\"Revise estructuras que sirven de base para la creaci&oacute;n de censos o encuestas\" onmouseover=\"this.focus();\">Revisar Estructuras Base</a>\n										".toCharArray();
    _jsp_string11 = "\n													<a id='link_administrar_cuentas' href=\"cuentas.do\"><img src=\"comunes/imagenes/profile.png\" height=\"18\" title=\"Maneje las cuentas de administradores del sistema\">&nbsp;Cuentas</a>\n												".toCharArray();
    _jsp_string20 = "\n<form action=\"generadorsql.do\" method=\"POST\" id=\"formgenerasql\" name=\"formgenerasql\">\n	<input type=\"hidden\" value=\"verdad\" id=\"hacerpreview\" name=\"hacerpreview\">\n	<input type=\"hidden\" value=\"".toCharArray();
  }
}
